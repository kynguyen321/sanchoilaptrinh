(function(_ds){var window=this;var lZ=function(a){var b=a.position,c=a.Aq;a=a.Bq;b='<div class="devsite-thumb-rating" role="form" aria-labelledby="devsite-thumb-label-'+_ds.T(b)+'" tabindex="0"><div class="devsite-thumb-label" id="devsite-thumb-label-'+_ds.T(b)+'">';b=b+"Th\u00f4ng tin n\u00e0y c\u00f3 h\u1eefu \u00edch kh\u00f4ng cho b\u1ea1n kh\u00f4ng?"+('</div><div class="devsite-thumbs">'+kZ(a.label,a.yh,a.type)+kZ(c.label,c.yh,c.type)+"</div></div>");return(0,_ds.P)(b)},kZ=function(a,b,c){let d;"thumb-down-filled"==c?d=(0,_ds.P)('<path d="M3,17h6.31l-0.95,4.57l-0.03,0.32c0,0.41,0.17,0.79,0.44,1.06L9.83,24c0,0,7.09-6.85,7.17-7V4H6C5.17,4,4.46,4.5,4.16,5.22 l-3.02,7.05C1.05,12.5,1,12.74,1,13v2C1,16.1,1.9,17,3,17z"></path><path d="M19,17h4V4h-4V17L19,17z"></path>'):
"thumb-down-outline"==c?d=(0,_ds.P)('<path d="M3,17h6.31l-0.95,4.57l-0.03,0.32c0,0.41,0.17,0.79,0.44,1.06L9.83,24c0,0,7.09-6.85,7.17-7h5V4H6 C5.17,4,4.46,4.5,4.16,5.22l-3.02,7.05C1.05,12.5,1,12.74,1,13v2C1,16.1,1.9,17,3,17z M17,6h3v9h-3V6z M3,13l3-7h9v10l-4.34,4.34 L12,15H3V13z"></path>'):"thumb-up-filled"==c?d=(0,_ds.P)('<path d="M21,7h-6.31l0.95-4.57l0.03-0.32c0-0.41-0.17-0.79-0.44-1.06L14.17,0c0,0-7.09,6.85-7.17,7v13h11c0.83,0,1.54-0.5,1.84-1.22 l3.02-7.05C22.95,11.5,23,11.26,23,11V9C23,7.9,22.1,7,21,7z"></path><path d="M5,7H1v13h4V7L5,7z"></path>'):
"thumb-up-outline"==c?d=(0,_ds.P)('<path d="M21,7h-6.31l0.95-4.57l0.03-0.32c0-0.41-0.17-0.79-0.44-1.06L14.17,0c0,0-7.09,6.85-7.17,7H2v13h16 c0.83,0,1.54-0.5,1.84-1.22l3.02-7.05C22.95,11.5,23,11.26,23,11V9C23,7.9,22.1,7,21,7z M7,18H4V9h3V18z M21,11l-3,7H9V8l4.34-4.34 L12,9h9V11z"></path>'):d="";return(0,_ds.P)('<button class="devsite-thumb '+_ds.T(b)+'" data-title="'+_ds.T(a)+'" aria-label="'+_ds.T(a)+'"><svg class="devsite-thumb-icon" viewBox="0 0 24 24" aria-hidden="true">'+d+"</svg></button>")},
mZ=function(a){var b=a.Zd;a='<devsite-dialog class="devsite-thumb-rating-dialog" id="'+_ds.T(a.Jh)+'"><div class="devsite-dialog-contents"><h3 class="no-link" tabindex="-1">';a+='V\u00ec sao b\u1ea1n \u0111\u01b0a ra ph\u1ea3n h\u1ed3i n\u00e0y?</h3><form class="devsite-thumb-rating-categories">';const c=b.length;for(let d=0;d<c;d++){const e=b[d];a+='<div class="devsite-thumb-rating-category"><input type="radio" name="'+_ds.T(e.type)+'" id="'+_ds.T(e.id)+'"><label for="'+_ds.T(e.id)+'">'+_ds.Q(e.label)+
"</label></div>"}return(0,_ds.P)(a+'</form></div><div class="devsite-dialog-buttons"><button type="submit" class="button button-primary devsite-thumb-rating-submit" disabled>G\u1eedi</button><button type="button" class="button devsite-dialog-close">H\u1ee7y</button></div></devsite-dialog>')},nZ=function(a){var b=a.isSignedIn;a=a.Pn;let c;c='<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-thank-you-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 ph\u1ea3n h\u1ed3i.</h3>';
b?a&&(c+='<p class="create-profile-prompt">L\u01b0u c\u00e1c trang th\u01b0\u1eddng truy c\u1eadp b\u1eb1ng H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n c\u1ee7a Google.</p>'):c+='<p class="sign-in-prompt">B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 l\u01b0u c\u00e1c trang th\u01b0\u1eddng truy c\u1eadp b\u1eb1ng H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n c\u1ee7a Google.</p>';c+='</div><div class="devsite-dialog-buttons">';return(0,_ds.P)((b?a?c+'<button type="button" class="button button-primary create-profile">T\u1ea1o h\u1ed3 s\u01a1':
c+'<button type="button" class="button button-primary devsite-dialog-close">Lo\u1ea1i b\u1ecf':c+'<button class="button button-primary sign-in-button">\u00d0\u0103ng nh\u1eadp')+"</button></div></devsite-dialog>")},oZ=function(){return(0,_ds.P)('<svg class="material-icons devsite-feedback-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"></path></svg>')},pZ=function(a){var b=
a.Gb;let c;c='<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-create-profile-dialog"><div class="create-profile-spinner"><devsite-spinner size="48"></devsite-spinner></div><div class="devsite-dialog-contents"><h3 class="no-link">T\u1ea1o H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n c\u1ee7a Google</h3>';b?(c+='<p>B\u1ea1n c\u00f3 mu\u1ed1n nh\u1eadn email t\u1eeb H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n c\u1ee7a Google v\u1ec1 c\u00e1c s\u1ef1 ki\u1ec7n d\u00e0nh cho nh\u00e0 ph\u00e1t tri\u1ec3n, t\u00ednh n\u0103ng v\u00e0 n\u1ed9i dung m\u1edbi kh\u00f4ng?</p><input type="checkbox" id="devsite-thumb-create-profile-email-opt-in"><label for="devsite-thumb-create-profile-email-opt-in">Ch\u1eafc ch\u1eafn r\u1ed3i, t\u00f4i mu\u1ed1n nh\u1eadn!</label><p class="account-note">',
a='B\u1eb1ng c\u00e1ch t\u1ea1o H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n, b\u1ea1n \u0111\u1ed3ng \u00fd v\u1edbi <a href="'+(_ds.T(_ds.U(a.Eb))+'">Ch\u00ednh s\u00e1ch n\u1ed9i dung</a> <a href="https://policies.google.com/terms">\u0110i\u1ec1u kho\u1ea3n d\u1ecbch v\u1ee5</a> v\u00e0 <a href="https://policies.google.com/privacy">Chi\u0301nh sa\u0301ch quy\u00ea\u0300n ri\u00eang t\u01b0</a> c\u1ee7a Google \u00e1p d\u1ee5ng khi b\u1ea1n s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 n\u00e0y. T\u00ean tr\u00ean T\u00e0i kho\u1ea3n Google c\u1ee7a b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng trong H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n c\u1ee7a Google. Th\u00f4ng tin n\u00e0y c\u00f3 th\u1ec3 xu\u1ea5t hi\u1ec7n tr\u00ean n\u1ed9i dung m\u00e0 b\u1ea1n \u0111\u00f3ng g\u00f3p. B\u1ea1n c\u00f3 th\u1ec3 thay \u0111\u1ed5i th\u00f4ng tin n\u00e0y b\u1ea5t c\u1ee9 l\u00fac n\u00e0o.'),
c+=a):c+='<p class="not-eligible-prompt">T\u00e0i kho\u1ea3n n\u00e0y kh\u00f4ng \u0111\u1ee7 \u0111i\u1ec1u ki\u1ec7n t\u1ea1o H\u1ed3 s\u01a1 nh\u00e0 ph\u00e1t tri\u1ec3n. <a href="https://developers.google.com/profile/help#i%E2%80%99m_unable_to_create_a_profile_with_my_g_suite_account_why_is_that" target="_blank">T\u00ecm hi\u1ec3u th\u00eam</a>';c+='</p></div><div class="devsite-dialog-buttons">';c=(b?c+'<button class="button-primary create-profile">T\u1ea1o h\u1ed3 s\u01a1':c+'<button class="button button-primary change-account-button">\u0110\u1ed5i t\u00e0i kho\u1ea3n')+
'</button><button class="button devsite-dialog-close">Lo\u1ea1i b\u1ecf';return(0,_ds.P)(c+"</button></div></devsite-dialog>")},qZ=function(a){a='<devsite-dialog class="devsite-thumb-rating-dialog" id="devsite-thumb-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">\u0110\u00e3 x\u1ea3y ra l\u1ed7i</h3><p>'+(_ds.Q(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">');return(0,_ds.P)(a+"Lo\u1ea1i b\u1ecf</button></div></devsite-dialog>")};var sZ=async function(a){var b=new _ds.yi(_ds.H().href);if(_ds.Ri(b.g,"thumb")){var c=b.g.get("thumb");if("up"===c||"down"===c)a.setAttribute("rating",c),await rZ(a);b.g.remove("thumb");_ds.Yi(b.toString(),!0,!1)}else{var d=await a.oa();if(null!=d&&d.profileId){b=_ds.H().href;try{b=await _ds.Jn(b)}catch(f){}d=(null==d?void 0:d.profileId)||"";var e=new _ds.gv;try{c=await e.Oa({path:b,profileId:d}),"THUMBS_UP"===(null==c?void 0:c.ratingStatus)&&a.setAttribute("rating","up"),"THUMBS_DOWN"===(null==c?
void 0:c.ratingStatus)&&a.setAttribute("rating","down")}catch(f){}}}},tZ=function(a){let b="thumb-down-outline",c="thumb-up-outline";"down"===a.g?b="thumb-down-filled":"up"===a.g&&(c="thumb-up-filled");const d=a.getAttribute("position")||"";_ds.M(a,lZ,{position:d,Aq:{yh:"devsite-thumb-down",label:"Kh\u00f4ng h\u1eefu \u00edch",type:b},Bq:{yh:"devsite-thumb-up",label:"H\u1eefu \u00edch",type:c}})},vZ=function(a){a.eventHandler.listen(a,"click",b=>{uZ(a,b)})},uZ=async function(a,b){b=b.target;if(null==
b?0:b.classList.contains("devsite-thumb-up")){if("up"===a.g)a.removeAttribute("rating"),wZ(a,"\u0110\u00e3 xo\u00e1 th\u00f4ng tin \u0111\u00e1nh gi\u00e1 trang.");else{a.setAttribute("rating","up");if(0<a.F.length)a.D=xZ(a,a.F,"devsite-thumb-up-dialog"),a.D.setAttribute("open","");else{let c;null==(c=a.xb)||c.setAttribute("rating-type","thumbsUp");a.v=await yZ(a);a.v.setAttribute("open","")}wZ(a,"B\u1ea1n \u0111\u00e3 x\u1ebfp h\u1ea1ng trang n\u00e0y l\u00e0 h\u1eefu \u00edch.");await zZ(a)}await rZ(a)}else if(null==
b?0:b.classList.contains("devsite-thumb-down")){if("down"===a.g)a.removeAttribute("rating"),wZ(a,"\u0110\u00e3 xo\u00e1 th\u00f4ng tin \u0111\u00e1nh gi\u00e1 trang.");else{a.setAttribute("rating","down");if(0<a.G.length)a.C=xZ(a,a.G,"devsite-thumb-down-dialog"),a.C.setAttribute("open","");else{let c;null==(c=a.xb)||c.setAttribute("rating-type","thumbsDown");a.v=await yZ(a);a.v.setAttribute("open","")}wZ(a,"B\u1ea1n \u0111\u00e3 x\u1ebfp h\u1ea1ng trang n\u00e0y l\u00e0 kh\u00f4ng h\u1eefu \u00edch.");
await zZ(a)}await rZ(a)}},wZ=function(a,b){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,showClose:!1},bubbles:!0}))},xZ=function(a,b,c){let d=document.body.querySelector(`#${c}`);if(d)return d;d=_ds.N(mZ,{Jh:c,Zd:b});document.body.appendChild(d);a.eventHandler.listen(d,"change",()=>{if("down"===a.g){let e,f;null==(e=a.C)||null==(f=e.querySelector(".devsite-thumb-rating-submit"))||f.removeAttribute("disabled")}else if("up"===a.g){let e,f;null==(e=a.D)||null==(f=
e.querySelector(".devsite-thumb-rating-submit"))||f.removeAttribute("disabled")}});a.eventHandler.listen(d.querySelector(".devsite-thumb-rating-submit"),"click",async()=>{await AZ(a)});return d},yZ=async function(a){let b=document.body.querySelector("#devsite-thumb-thank-you-dialog");if(b)return b;const c=await _ds.x();var d=await c.isSignedIn(),e=d;d&&(e=await a.oa(),e=BZ()&&!e);e&&CZ(a,"Callout Profile intro");b=_ds.N(nZ,{isSignedIn:d,Pn:e});document.body.appendChild(b);const f=b.querySelector(".devsite-dialog-buttons");
a.xb&&(null==f||f.appendChild(a.xb),a.eventHandler.listen(a.xb.querySelector("button"),"click",()=>{let g;null==(g=b)||g.removeAttribute("open")}));e&&f&&a.eventHandler.listen(f.querySelector(".create-profile"),"click",async()=>{let g;null==(g=b)||g.removeAttribute("open");a.h=await DZ(a);a.h.setAttribute("open","")});!d&&f&&(d=b.querySelector(".sign-in-button"))&&a.eventHandler.listen(d,"click",async g=>{g.preventDefault();g.stopPropagation();g=new _ds.yi(_ds.H().href);g.g.add("thumb",a.g);_ds.Yi(g.toString(),
!0,!1);await c.signIn()});return b},zZ=async function(a){let b=null;"down"===a.g?b={category:"Site-Wide Custom Events",action:"devsite-rating thumb",label:"Thumb Down Rating",value:-1}:"up"===a.g&&(b={category:"Site-Wide Custom Events",action:"devsite-rating thumb",label:"Thumb Up Rating",value:1});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0}))},rZ=async function(a){let b="RATING_STATE_UNKNOWN";"down"===a.g?b="THUMBS_DOWN":"up"===a.g&&(b="THUMBS_UP");var c=
await a.oa();if(null!=c&&c.profileId){var d=_ds.H().href;try{d=await _ds.Jn(d)}catch(f){}var e=new _ds.gv;try{await e.jg({path:d,status:b,profileId:null==c?void 0:c.profileId})}catch(f){let g;null==(g=a.h)||g.removeAttribute("open");a.o=EZ(a,"\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi l\u01b0u th\u00f4ng tin \u0111\u00e1nh gi\u00e1 trang.");a.o.setAttribute("open","");return}a.g&&(a=document.querySelector("devsite-user#devsite-user"),c=await _ds.Cn("/saved-pages",null==c?void 0:c.profileId,null==c?void 0:
c.vanityId,!1,!0),await (null==a?void 0:a.showPopout("view-rated-pages",c)))}},AZ=async function(a){if("down"===a.g){var b;let d;var c=(null==(b=a.C)?void 0:null==(d=b.querySelector("input[type=radio]:checked"))?void 0:d.id)||"";FZ(a,c);let e;null==(e=a.xb)||e.setAttribute("rating-type","thumbsDown");let f;null==(f=a.xb)||f.setAttribute("rating-category",c);let g;null==(g=a.C)||g.removeAttribute("open")}else if("up"===a.g){let d;b=(null==(c=a.D)?void 0:null==(d=c.querySelector("input[type=radio]:checked"))?
void 0:d.id)||"";FZ(a,b);let e;null==(e=a.xb)||e.setAttribute("rating-type","thumbsUp");let f;null==(f=a.xb)||f.setAttribute("rating-category",b);let g;null==(g=a.D)||g.removeAttribute("open")}a.v=await yZ(a);a.v.setAttribute("open","")},CZ=function(a,b,c){let d=null;"down"===a.g?d={category:"Site-Wide Custom Events",action:b,label:"Rating Widget Callout",value:-1}:"up"===a.g&&(d={category:"Site-Wide Custom Events",action:b,label:"Rating Widget Callout",value:1});b=Object.assign({},{Wa:"Site-Wide Custom Events",
action:b},d,c||{});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0}))},DZ=async function(a){var b=await a.Gb();CZ(a,"Callout Profile displayed");var c=document.body.querySelector("#devsite-thumb-create-profile-dialog");if(c)return c;c=(await _ds.An()).href;c=_ds.N(pZ,{Eb:c,Gb:b});document.body.appendChild(c);if(b=c.querySelector(".devsite-dialog-buttons")){var d=b.querySelector(".create-profile");d&&a.eventHandler.listen(d,"click",()=>{a.createProfile()});(d=b.querySelector(".change-account-button"))&&
a.eventHandler.listen(d,"click",async e=>{e.preventDefault();e.stopPropagation();e=new _ds.yi(_ds.H().href);e.g.add("thumb",a.g);_ds.Yi(e.toString(),!0,!1);await (await _ds.x()).changeAccount()});a.eventHandler.listen(b.querySelector(".devsite-dialog-close"),"click",()=>{CZ(a,"Callout Profile dismissed")})}return c},BZ=function(){const a=document.querySelector("devsite-user#devsite-user");return null!=a&&a.hasAttribute("enable-profiles")},EZ=function(a,b){CZ(a,"Callout Profile error",{label:"Rating Widget Callout Error",
value:b});if(a=document.body.querySelector("#devsite-thumb-error-dialog"))return a;a=_ds.N(qZ,{error:b});document.body.appendChild(a);return a},FZ=function(a,b){let c=null;"down"===a.g?c={category:"Site-Wide Custom Events",action:"devsite-rating category",label:`Rating Category: ${b}`,value:-1}:"up"===a.g&&(c={category:"Site-Wide Custom Events",action:"devsite-rating category",label:`Rating Category: ${b}`,value:1});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:c,bubbles:!0}))},
GZ=class extends _ds.G{constructor(){super(["devsite-snackbar","devsite-dialog","devsite-feedback"]);this.eventHandler=new _ds.I;this.v=this.o=this.h=this.xb=null;this.G=[];this.C=null;this.F=[];this.D=null;this.g=""}static get observedAttributes(){return["rating"]}async connectedCallback(){var a=document.querySelector(".devsite-thumb-rating-feedback");if(a){var b;if(this.xb=null==(b=a.content.firstElementChild)?void 0:b.cloneNode(!0))a=this.xb.querySelector("button"),null==a||a.classList.add("button-with-icon"),
a&&a.firstChild&&(b=_ds.N(oZ),a.insertBefore(b,a.firstChild))}if((a=document.querySelector(".devsite-thumb-rating-down-categories"))&&a.content)try{this.G=JSON.parse(a.content.textContent||"")}catch(c){this.G=[]}if((a=document.querySelector(".devsite-thumb-rating-up-categories"))&&a.content)try{this.F=JSON.parse(a.content.textContent||"")}catch(c){this.F=[]}await sZ(this);tZ(this);vZ(this)}disconnectedCallback(){_ds.J(this.eventHandler);_ds.Sh(this.C);_ds.Sh(this.D);_ds.Sh(this.v);_ds.Sh(this.h);
_ds.Sh(this.o)}attributeChangedCallback(a,b,c){switch(a){case "rating":this.g=c||"",tZ(this)}}async Gb(){if(!await (await _ds.x()).isSignedIn())return!1;const a=new _ds.ev;let b=null;try{b=await a.jb()}catch(e){}let c,d;return"ELIGIBILITY_ELIGIBLE"===(null==(c=b)?void 0:null==(d=c.createProfile)?void 0:d.status)}async oa(){if(!BZ()||!await (await _ds.x()).isSignedIn()||!await this.Gb())return null;const a=new _ds.lv;let b=null;try{b=await a.oa()}catch(c){}return b}async createProfile(){const a=await _ds.oD.getName();
if(a){var b,c=null==(b=this.h)?void 0:b.querySelector("#devsite-thumb-create-profile-email-opt-in");b=!(!c||!c.checked);var d;null==(d=this.h)||d.classList.add("loading");d=new _ds.lv;try{await _ds.kv(d,a,b,!0);CZ(this,"Callout Profile created");let f;null==(f=this.h)||f.removeAttribute("open");await rZ(this)}catch(f){let g;null==(g=this.h)||g.removeAttribute("open");this.o=EZ(this,`${f}`);this.o.setAttribute("open","")}var e;null==(e=this.h)||e.classList.remove("loading")}else null==(c=this.h)||
c.removeAttribute("open"),this.o=EZ(this,"\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi l\u1ea5y th\u00f4ng tin t\u00e0i kho\u1ea3n c\u1ee7a b\u1ea1n."),this.o.setAttribute("open","")}};try{window.customElements.define("devsite-thumb-rating",GZ)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteThumbRating",a)};})(_ds_www);
