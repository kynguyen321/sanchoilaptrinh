(function(_ds){var window=this;var RQ=function(a,b,c){return a.g.then(function(d){var e=d[b];if(!e)throw Error("Method not found: "+b);return e.apply(d,c)})},SQ=class{constructor(a){this.g=a;a.then((0,_ds.od)(function(){},this),()=>{},this)}},UQ=function(a,b,c){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];e=TQ(a,b).then(function(f){return f.apply(null,d)});return new SQ(e)},VQ={},TQ=function(a,b){var c=VQ[b];if(c)return c;c=(c=_ds.hd(b))?_ds.dk(c):(new _ds.Zj(function(d,e){var f=(new _ds.Bh(document)).createElement("SCRIPT");
f.async=!0;_ds.Sc(f,_ds.Lc(_ds.pc(a)));f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||d()};f.onerror=e;(document.head||document.getElementsByTagName("head")[0]).appendChild(f)})).then(function(){var d=_ds.hd(b);if(!d)throw Error("Failed to load "+b+" from "+a);return d});return VQ[b]=c};var WQ=class{constructor(a){this.g=a}o(a){_ds.hk(RQ(this.g,"requestSurvey",arguments),()=>{},this)}h(a){_ds.hk(RQ(this.g,"presentSurvey",arguments),()=>{},this)}j(a){_ds.hk(RQ(this.g,"dismissSurvey",arguments),()=>{},this)}},XQ=new _ds.oc(_ds.Wf,"https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");_ds.hk(TQ(XQ,"help.service.Lazy.create"),()=>{});var RR=function(){return"devsite-hats-survey"},VR=function(){if(SR){let a;null==(a=TR)||a.j({surveyMetadata:{sessionId:SR}});return UR.promise}return Promise.resolve()},WR=async function(a){var b=await _ds.x();let c="AIzaSyArC61vXsxgHizCNzGEDzdTWWhmiZsP2V4";b.hasFlagAccess(186)&&(c=_ds.z(b.getConfig(),18));var d=a.getAttribute("listnr-id");d?(b={locale:b.getLocale()||"en",apiKey:c},d=UQ(XQ,"help.service.Lazy.create",d,{apiKey:b.apiKey||b.apiKey,environment:b.environment||b.environment,helpCenterPath:b.helpCenterPath||
b.helpCenterPath,locale:b.locale||b.locale||"vi".replace(/-/g,"_"),nonce:b.nonce||b.nonce,productData:b.productData||b.productData,receiverUri:b.xw||b.receiverUri,renderApiUri:b.renderApiUri||b.renderApiUri,theme:b.theme||b.theme,window:b.window||b.window}),TR=new WQ(d),a.g=TR):console.warn('<devsite-hats-survey> missing attribute "listnr-id"')},$R=function(a,b){let c;null==(c=a.g)||c.h({productData:{customData:{pageUrl:_ds.H().toString()}},surveyData:b,colorScheme:1,authuser:0,customZIndex:1E4,listener:{surveyPrompted:d=>
{SR=d.sessionId||null;UR=new _ds.Ck;YR=UR.g},surveyClosed:()=>{SR=ZR=null;YR()}}})},cS=class extends _ds.G{constructor(a){super();this.g=null;a&&(this.g=TR=a)}async connectedCallback(){ZR=this;const a=this.getAttribute("hats-id");a&&a!==aS&&(await VR(),this.g||await WR(this),aS=a,await this.Hl(a))}disconnectedCallback(){ZR=null;_ds.Ak(bS,document.body,"devsite-page-changed",()=>{ZR||(VR(),aS=null)})}async Hl(a){await _ds.x();let b;null==(b=this.g)||b.o({triggerId:a,callback:c=>{c.surveyData&&$R(this,
c.surveyData)},authuser:0,enableTestingMode:!1})}};cS.prototype.renderSurvey=cS.prototype.Hl;cS.prototype.disconnectedCallback=cS.prototype.disconnectedCallback;cS.prototype.connectedCallback=cS.prototype.connectedCallback;cS.closeCurrentSurvey=VR;cS.getTagName=RR;var aS=null,SR=null,ZR=null,UR=new _ds.Ck,YR=UR.g,bS=new _ds.I,TR=void 0;try{window.customElements.define(RR(),cS)}catch(a){console.warn("devsite.app.customElement.DevsiteHatsSurvey",a)};})(_ds_www);
